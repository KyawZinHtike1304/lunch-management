<!DOCTYPE html>
<html th:fragment="layout(main)" lang="en" xmlns:th="http://www.thymeleaf.org"
    xmlns:sec="http://www.thymeleaf.org/extras/spring-security">

<head>
    <meta charset="UTF-8">
    <title>Employee Canteen</title>
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
    <link rel="stylesheet" href="../../static/bootstrap/css/bootstrap.min.css"
    th:href="@{/bootstrap/css/bootstrap.min.css}">
    <link rel="stylesheet" href="../../static/bootstrap/css/app.css"
    th:href="@{/bootstrap/css/app.css}">
    <link href="https://fonts.googleapis.com/css?family=Raleway:100,300,500,700" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Questrial" rel="stylesheet">
    <link rel="stylesheet" href="css/app.css">
</head>

<body>

<nav class="navbar navbar-expand-md navbar-dark text-white bg-black position-fixed">
    <a href="#" class="navbar-brand">
        <h3 class="mb-0">Employee Canteen</h3>
    </a>
    <button type="button" class="navbar-toggler"
            data-bs-toggler="collapse"
            data-bs-target="#myNav">
        <span class="navbar-toggler-icon"></span>
    </button>
    <div id="myNav" class="collapse navbar-collapse">
        <ul class="navbar-nav ms-auto">
            <li class="nav-item">
                <a th:href="@{/}" class="nav-link text-white">Home</a>
            </li>

            <li class="nav-item">
                <a th:href="@{/#}" class="nav-link text-white">About</a>
            </li>

            <li class="nav-item">
                <a th:href="@{/#}" class="nav-link text-white">Explore</a>
            </li>

            <li class="nav-item">
                <a th:href="@{/#menu}" class="nav-link text-white">Menu</a>
            </li>
        </ul>
        <div sec:authorize="!isAuthenticated()">
            <a th:href="@{/register}" class="me-2 btn btn-outline-primary">Register</a>
            <a th:href="@{/login}" class="me-2 btn btn-outline-primary">Login</a>
        </div>

        <div sec:authorize="isAuthenticated()">

            <div th:if="${ @securityUtils.hasRole('ROLE_USER')}" class="d-inline-block">
            <a th:href="@{/history}" class="me-2 btn btn-outline-primary">
                History
            </a>
            </div>

            <div th:if="${ @securityUtils.hasRole('ROLE_ADMIN')}" class="d-inline-block">
                <a th:href="@{/management/info}" class="me-2 btn btn-outline-primary">
                    <i class="fa-solid fa-user"></i>Management</a>
            </div>

                <a th:href="@{/profile}" class="me-2 btn btn-outline-primary">
                    <i class="fa-solid fa-user"></i>Profile</a>


            <a href="javascript: document.logoutForm.submit()" class="me-2 btn btn-outline-primary">Logout</a>

            <form name="logoutForm" th:action="@{/logout}" method="post" th:hidden="true">
                <input type="submit" hidden value="Logout">
            </form>
        </div>
    </div>
</nav>

<div th:replace="${main}"></div>

<section id="footer" class="bg-secondary p-4 text-white fixed-bottom">
    <ul class="nav text-center justify-content-center flex-column flex-sm-row">
        <li class="nav-item">
            <a href="#" class="nav-link">FAQ</a>
        </li>

        <li class="nav-item">
            <a href="#" class="nav-link">EXPERIENCE</a>
        </li>

        <li class="nav-item">
            <a href="#" class="nav-link">CONTACT</a>
        </li>

        <li class="nav-item">
            <a href="#" class="nav-link">ORDER NOW</a>
        </li>

        <li class="nav-item">
            <a href="#" class="nav-link">EXPLORE</a>
        </li>
    </ul>
</section>

<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js" integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js" integrity="sha384-BBtl+eGJRgqQAUMxJ7pMwbEyER4l1g+O15P+16Ep7Q9Q+zqX6gSbd85u4mG4QzX+" crossorigin="anonymous"></script>
</body>
</html>